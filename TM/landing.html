<html>
	<head>
        <title> TM Login </title>
	</head>
<body>
    <style>
        .loginbox {
            background-color:rgba(50, 135, 83, 0.3);
            width: 1000px;
            border: 3px solid rgb(15,82,40);
            padding: 10px;
            margin: 10px;
        }
        h1 {
        text-align: center;
        }
        h3 {
        text-align: center;
        }
        form {
        text-align: center;
        }
    </style>
	<div class="loginbox">
		<h1>Login to TM</h1>
		<h3>Enter your credentials</h3>
        <form class="login-form">
			<input
				type="text" placeholder="Username"/>
                <br/><br/>
            <input
            	type="password" placeholder="Password"
				/>
                <br/><br/>
                <button type="submit">LOGIN</button>
			</form>
          </div>
          <script>
           document.querySelector('.login-form').addEventListener('submit', function(event) {
                // prevent the default form submission
                event.preventDefault();

                // get the username and password from the form
                var username = document.querySelector('input[type="text"]').value;
                var password = document.querySelector('input[type="password"]').value;

                // make an HTTP POST request to the server with the user's credentials
                var login = new XMLHttpRequest();
                login.open('POST', '/login', true);
                login.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                login.onreadystatechange = function() {
                    if (login.readyState === XMLHttpRequest.DONE && login.status === 200) {
                        // login successful, redirect to test.html
                        window.location.href = 'test.html';
                    } else if (login.readyState === XMLHttpRequest.DONE && login.status === 401) {
                        // login failed, show an error message
                        alert('Invalid username or password');
                    }
                };
                login.send('username=' + encodeURIComponent(username) + '&password=' + encodeURIComponent(password));
            });
          </script>
        </body>
</html>
